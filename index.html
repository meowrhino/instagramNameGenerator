<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
        body {
            text-align: center;
            font-family: sans-serif;

            display: flex;
            flex-direction: column;
            justify-content: center;

            margin: 0;
        }

        body:hover {
            background-color: gray;
        }
    </style>
</head>

<body class="class">

    <script>
        const holabondia = "holaBonDia";

        const nameCharLimit = 30;

        document.body.onkeyup = function (e) {
            if (e.code == "Space"
            ) {
                console.clear();
                nameGeneration();
            }
        }

        let name = "";
        let spacesToFill;
        let spacesToBeFilled;
        let whereToPutSpaces;

        function nameGeneration() {
            /*NOTAS PARA EL FUTURO: si el input tiene espacios (" ") hay que darlo por inválido y pedir un string sin espacios o cambiarlos por barras bajas ("_")
            o directamente ignorar los espacios (" ") y juntartelo todo, creo que hay un string method para ello*/

            name = prompt("place your input here").toString();
            //name = holabondia;

            spacesToFill = nameCharLimit - name.length;
            console.log("spacesToFill = " + spacesToFill);
            //te calcula la cantidad de espacios que quedan para rellenar el @ de IG
            spacesToBeFilled = randomNumber(spacesToFill);
            //y te da un numero entero aleatorio menor o igual a la cantidad de espacios que lo rellenará
            /*esto podría ser una funcion pues lo repites aquí !!!*/

            name = addUnderscores(spacesToBeFilled) + name;
            console.log("name updated= " + name);
            console.log("");



            console.log("entering FOR LOOP");

            for (let index = 2; index < nameCharLimit; index++) {

                if (index == 2) {

                    whereToPutSpaces = spacesToBeFilled + index - 1;
                    console.log("FOR LOOP first stage activated");
                    console.log("whereToPutSpaces is " + whereToPutSpaces);
                    i++;

                }
                /*NOTA PARA EL FUTURO: podrias hacer una update donde en lugar de _ escribes un input
                para que te lo rellene del caracter queq uieras
                !!! el input ha de ser solo 1 caracter si no es asi te ha de dar error y focusearte en este input para que lo cambies*/

                //y así ya puedes modificar el spacesToBeFilled sin necesitar 2 variables

                spacesToFill = nameCharLimit - name.length;
                spacesToBeFilled = randomNumber(spacesToFill);
                /*esto podría ser una funcion pues lo repites aquí !!! y así pones todos los comments en esa función*/

                name = name.slice(0, whereToPutSpaces) + addUnderscores(spacesToBeFilled) + name.slice(whereToPutSpaces);
                console.log("FOR LOOP stage number " + index + " new name iteration is " + name);
                console.log("");


                whereToPutSpaces = whereToPutSpaces + spacesToBeFilled + 1;

                console.log("name.length is " +name.length)
                if (name.length == nameCharLimit - 1) {
                    console.log("name is already " + name.length + " Characters!!!");

                    /*NO ETNIENDO POR QUÉ ES 29 Y NO 30 NO SÉ SI ES ALGO DEL RANDOM O QUÉ COÑO PASA*/
                    break;
                }
            }

            console.log("nameGeneration() has been completed");
        }


        function addUnderscores(amount) {
            underscoresString = "";
            console.log("addUnderscores() was activated, we will fill " + amount + " spaces")

            for (i = 0; i < amount; i++) {
                const underscore = "_"
                underscoresString += underscore;
                //console.log("loop" + i);
            }

            return underscoresString;
        }

        function addScores(amount) {
            scoresString = "";
            console.log("TEST addScores() was activated, we will fill " + amount + " spaces")

            for (i = 0; i < amount; i++) {
                const score = "-"
                scoresString += score;
                //console.log("loop" + i);
            }

            return scoresString;
        }

        function randomNumber(limit) {
            var n = Math.floor(Math.random() * limit);
            return n;
        }

    </script>
</body>

</html>